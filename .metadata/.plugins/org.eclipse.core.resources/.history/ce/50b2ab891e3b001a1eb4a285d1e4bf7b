package com.shd.server.logging ;
import java.io.IOException;
import java.util.Objects;
import java.util.logging.ConsoleHandler;
import java.util.logging.FileHandler;
import java.util.logging.Handler;
import java.util.logging.Logger;
public class LoggerRef {

	private final static String nameId="ServDisply" ;
	private static  Logger servLogDisply = null ;

	public static synchronized Logger  makeLogRef() throws SecurityException, IOException
	{
		servLogDisply = Logger.getLogger(nameId); 
		Objects.requireNonNull(servLogDisply, "NULL!! for servLogDisply" ) ;
		//assert loggerToUse != null ;
		servLogDisply.setUseParentHandlers(false) ;//No Console
		Handler[] handlers = servLogDisply.getHandlers();
		for(Handler handler : handlers) {
			servLogDisply.removeHandler(handler);
		}
		Handler  consoleHandler = new ConsoleHandler();
		consoleHandler.setFormatter(new LogFormat());
		//consoleHandler.setLevel(Level.ALL);
		servLogDisply.addHandler(consoleHandler);
		//
		FileHandler fileTxt = new FileHandler("C:/WebSockt_WrkDirec/Server/Logs/Logging.txt");
		servLogDisply.addHandler(fileTxt) ;
		//
		return servLogDisply ;


	}

}