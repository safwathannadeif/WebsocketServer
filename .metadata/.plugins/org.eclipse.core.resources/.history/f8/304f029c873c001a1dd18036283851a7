package com.shd.server.startup;
//https://abhirockzz.wordpress.com/2015/12/31/programmatic-websocket-endpoints-in-java-ee-7/
import java.io.IOException;
import java.lang.annotation.Annotation;
import java.util.List;
import java.util.Map;

import javax.websocket.Decoder;
import javax.websocket.Encoder;
import javax.websocket.Endpoint;
import javax.websocket.EndpointConfig;
import javax.websocket.Extension;
import javax.websocket.MessageHandler;
import javax.websocket.server.ServerEndpoint;
import javax.websocket.server.ServerEndpointConfig.Configurator;
import javax.websocket.Session;


	public class ProgrammaticEchoEnpoint extends Endpoint {
	    
	    @Override
	    public void onOpen(Session session, EndpointConfig config) {
	        System.out.println("Peer " + session.getId() + " connected");
	        session.addMessageHandler(new MessageHandler.Whole<String>() {
	            @Override
	            public void onMessage(String message) {
	                try {
	                    session.getBasicRemote().sendText("Got message from " + session.getId() + "\n" + message);
	                } catch (IOException ex) {
	                }
	            }
	        });
	    }
	    
	}	    