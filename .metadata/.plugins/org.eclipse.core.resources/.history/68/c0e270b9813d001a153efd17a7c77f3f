package com.shd.server.startup;
import javax.websocket.CloseReason;
import javax.websocket.Endpoint;
import javax.websocket.EndpointConfig;
import javax.websocket.Session;
// com.shd.server.startup.ServerEndPtTest4

	public class ServerEndPtTest4 extends Endpoint {
	    
	    @Override
	    public void onOpen(Session session, EndpointConfig config) {
	    	
	        System.out.println("Peer " + session.getId() + " connected with RequestURI [" + session.getRequestURI() +"]");
	        System.out.println("EndpointConfig=" + config.toString()) ;
	        session.addMessageHandler(new ExtMessageHandler());
//	        session.addMessageHandler(new MessageHandler.Whole<String>() {
//	            @Override
//	            public void onMessage(String message) {
//	                try {
//	                	 System.out.println("inMessage=" + message ) ;
//	                    session.getBasicRemote().sendText("Got message from " + session.getId() + "\n" + message);
//	                } catch (IOException ex) {
//	                }
//	            }
//	        });
	    }
	    @Override
	    public void onClose(Session session, CloseReason closeReason) {
	    }
	    
	    @Override
	    public void onError(Session session, Throwable thr) {
	    }
	    
	}	    